{% extends "base.html" %}

{% load static %}
{% block content %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro ventas</title>
    <link rel="stylesheet" href="{% static 'css/registro_ventas.css' %}">
</head>
    {% for message in messages %}
    <p>{{ message }}</p>
    {% endfor %}
<h1 class="categories-title">CAJA N°{{caja}}</h1>
<table class="table table-dark table-striped">
    <thead>
        <tr>
            <th>VENTA N°</th>
            <th>EMPLEADO</th>
            <th>CLIENTE</th>
            <th>FECHA</th>
            <th>TOTAL</th>
            <th>METODO PAGO</th>
            <th>OPCIONES</th>
        </tr>
    </thead>
    <tbody>
        {% for venta in ventas %}
            <tr>
                <td>{{ venta.id }}</td>
                <td>{{ venta.empleado }}</td>
                <td>{{ venta.cliente }}</td>
                <td>{{ venta.fecha }}</td>
                <td>${{ venta.total }}</td>
                <td>{{ venta.forma_pago|upper }}</td>
                <td>
                    <button type="button" onclick="abrir_modal_edicion('{% url 'detalle_venta' venta.id %}')" class="btn btn-secondary">
                        VER
                    </button>
                </td>

                
                
            </tr>
        {% empty %}
            <tr>
                <td colspan="3">No hay categorías disponibles.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>



<div class="modal fade" id="edicion" role="dialog">

</div>

{% endblock %}

{% block extra_js %}
<script type="text/javascript">
    var $ = jQuery.noConflict()
    function abrir_modal_edicion(url){
        $('#edicion').load(url, function (){
            $(this).modal('show');
        });
    }
</script>
{% endblock %}