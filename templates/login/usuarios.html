{% extends "base.html" %}
{% block  content %}
<div class="messages">
    {% for message in messages %}
        <p>{{ message }}</p>
    {% endfor %}
</div>
<a href="{% url 'nuevo_usuario' %}" class="btn btn-danger">Crear nuevo usuario</a>
<table class="table table-dark table-striped">
    <thead>
        <tr>
            <th>USUARIO</th>
            <th>NOMBRE</th>
            <th>APELLIDO</th>
            <th>EMAIL</th>
            <th>ULTIMO INGRESO</th>
            <th>TIPO DE USUARIO</th>
            <th>ESTADO</th>
            {% if perms.auth.delete_user %}
            <th class="column-acciones">Acciones</th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
        {% for usuario in usuarios %}
            <tr>
                <td>{{ usuario.username }}</td>
                <td>{{ usuario.first_name }}</td>
                <td>{{ usuario.last_name }}</td>
                <td>{{ usuario.email }}</td>
                <td>{{ usuario.last_login }}</td>
                <td>{{ usuario.groups.first.name|upper }}</td>
                <td>
                    {% if usuario.is_active %}
                        ACTIVO
                    {% else %}
                        BLOQUEADO
                    {% endif %}
                </td>
                <td class="column-acciones actions-column">
                {% if perms.auth.delete_user %}
                <a href="{% url 'modificar_usuario' usuario.id %}" class="icon-container icon-edit">
                    <i class='bx bx-edit-alt'></i>
                </a>
                <a href="{% url 'eliminar_usuario' usuario.id %}" class="icon-container icon-delete">
                    <i class='bx bx-trash'></i>
                </a>
                {% endif %}
            </td>

            </tr>
        {% empty %}
            <tr>
                <td colspan="3">No hay usuarios disponibles.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>


{% endblock %}